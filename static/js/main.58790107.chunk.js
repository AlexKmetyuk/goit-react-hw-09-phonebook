(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{10:function(e,t,r){"use strict";r.d(t,"i",(function(){return c})),r.d(t,"j",(function(){return o})),r.d(t,"h",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"f",(function(){return b})),r.d(t,"g",(function(){return j})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return O}));var n=r(2),c=Object(n.b)("phonebook/fetchContactRequest"),o=Object(n.b)("phonebook/fetchContactSuccess"),a=Object(n.b)("phonebook/fetchContactError"),u=Object(n.b)("phonebook/addContactRequest"),s=Object(n.b)("phonebook/addContactSuccess"),i=Object(n.b)("phonebook/addContactError"),b=Object(n.b)("phonebook/deleteContactRequest"),j=Object(n.b)("phonebook/deleteContactSuccess"),l=Object(n.b)("phonebook/deleteContactError"),O=Object(n.b)("phonebook/changeFilter")},102:function(e,t,r){"use strict";r.r(t);var n,c,o,a,u,s,i=r(0),b=r.n(i),j=r(25),l=r.n(j),O=r(19),d=r(14),f=function(e){return e.auth.isLogin},h=function(e){return e.auth.user.name},g=r(24),p=(r(74),r(1)),v=function(){var e=Object(d.d)(f),t=Object(d.d)(h),r=Object(d.c)();return Object(p.jsx)("header",{children:Object(p.jsxs)("nav",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(O.b,{className:"nav--btn",activeClassName:"nav--btn__active",to:"/home",children:"HOME"}),e&&Object(p.jsx)(O.b,{className:"nav--btn",activeClassName:"nav--btn__active",to:"/contacts",children:"PHONEBOOK"})]}),Object(p.jsx)("div",{className:"user-nav",children:e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{style:{margin:0,marginRight:10},children:["Welcome, ",t,"!"]}),Object(p.jsx)("button",{type:"button",onClick:function(){r(g.a.logout())},children:"Logout"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O.b,{to:"/register",className:"user-btn",activeClassName:"user-btn-active",children:"Register"}),Object(p.jsx)(O.b,{to:"/login",className:"user-btn",activeClassName:"user-btn-active",children:"Login"})]})})]})})},x=(r(80),r(6)),m=r(16),k=r(27),C=Object(d.b)((function(e){return{isAuth:f(e)}}))((function(e){var t=e.component,r=e.isAuth,n=e.redirectTo,c=Object(k.a)(e,["component","isAuth","redirectTo"]);return Object(p.jsx)(x.b,Object(m.a)(Object(m.a)({},c),{},{render:function(e){return r?Object(p.jsx)(t,Object(m.a)({},e)):Object(p.jsx)(x.a,{to:n})}}))})),S=Object(d.b)((function(e){return{isAuth:f(e)}}))((function(e){var t=e.component,r=e.isAuth,n=e.redirectTo,c=Object(k.a)(e,["component","isAuth","redirectTo"]);return Object(p.jsx)(x.b,Object(m.a)(Object(m.a)({},c),{},{render:function(e){return r&&c.restricted?Object(p.jsx)(x.a,{to:n}):Object(p.jsx)(t,Object(m.a)({},e))}}))})),y=r(43),E=r.n(y),R=(r(99),Object(i.lazy)((function(){return r.e(6).then(r.bind(null,104))}))),U=Object(i.lazy)((function(){return r.e(4).then(r.bind(null,107))})),q=Object(i.lazy)((function(){return r.e(5).then(r.bind(null,105))})),w=Object(i.lazy)((function(){return r.e(3).then(r.bind(null,106))})),A={onGetCurrentUser:g.a.getCurrentUser},N=Object(d.b)(null,A)((function(e){var t=e.onGetCurrentUser;return Object(i.useEffect)((function(){t()}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(v,{}),Object(p.jsx)(i.Suspense,{fallback:Object(p.jsx)("div",{style:{textAlign:"center",paddingTop:150},children:Object(p.jsx)(E.a,{type:"Circles"})}),children:Object(p.jsxs)(x.d,{children:[Object(p.jsx)(x.b,{path:"/home",component:R}),Object(p.jsx)(C,{path:"/contacts",component:U,redirectTo:"/login"}),Object(p.jsx)(S,{path:"/register",component:q,restricted:!0,redirectTo:"/home"}),Object(p.jsx)(S,{path:"/login",component:w,restricted:!0,redirectTo:"/contacts"})]})})]})})),T=r(44),z=r(28),L=r(2),F=r(18),_=r(45),B=r.n(_),G=r(3),H=r(9),J=r(10),M=Object(L.c)([],(n={},Object(G.a)(n,J.j,(function(e,t){return t.payload})),Object(G.a)(n,J.c,(function(e,t){var r=t.payload;return[].concat(Object(z.a)(e),[r])})),Object(G.a)(n,J.g,(function(e,t){var r=t.payload;return e.filter((function(e){return e.id!==r}))})),n)),I=Object(L.c)(!1,(c={},Object(G.a)(c,J.i,(function(){return!0})),Object(G.a)(c,J.j,(function(){return!1})),Object(G.a)(c,J.h,(function(){return!1})),Object(G.a)(c,J.b,(function(){return!0})),Object(G.a)(c,J.c,(function(){return!1})),Object(G.a)(c,J.a,(function(){return!1})),Object(G.a)(c,J.f,(function(){return!0})),Object(G.a)(c,J.g,(function(){return!1})),Object(G.a)(c,J.e,(function(){return!1})),c)),K=Object(L.c)("",Object(G.a)({},J.d,(function(e,t){return t.payload}))),P=Object(H.b)({contacts:M,filter:K,loading:I}),W=r(4),D={name:null,email:null},Q=Object(L.c)(D,(o={},Object(G.a)(o,W.a.registerSuccess,(function(e,t){return t.payload.user})),Object(G.a)(o,W.a.loginSuccess,(function(e,t){return t.payload.user})),Object(G.a)(o,W.a.logoutSuccess,(function(){return D})),Object(G.a)(o,W.a.getCurrentUserSuccess,(function(e,t){return t.payload})),o)),V=Object(L.c)(!1,(a={},Object(G.a)(a,W.a.registerSuccess,(function(){return!0})),Object(G.a)(a,W.a.loginSuccess,(function(){return!0})),Object(G.a)(a,W.a.logoutSuccess,(function(){return!1})),Object(G.a)(a,W.a.getCurrentUserSuccess,(function(){return!0})),Object(G.a)(a,W.a.registerError,(function(){return!1})),Object(G.a)(a,W.a.loginError,(function(){return!1})),Object(G.a)(a,W.a.getCurrentUserError,(function(){return!1})),a)),X=Object(L.c)(null,(u={},Object(G.a)(u,W.a.registerSuccess,(function(e,t){return t.payload.token})),Object(G.a)(u,W.a.loginSuccess,(function(e,t){return t.payload.token})),Object(G.a)(u,W.a.logoutSuccess,(function(){return""})),u)),Y=Object(L.c)(null,(s={},Object(G.a)(s,W.a.registerError,(function(e,t){return t.payload})),Object(G.a)(s,W.a.loginError,(function(e,t){return t.payload})),Object(G.a)(s,W.a.logoutError,(function(e,t){return t.payload})),Object(G.a)(s,W.a.getCurrentUserError,(function(e,t){return t.payload})),s)),Z=Object(H.b)({user:Q,isLogin:V,token:X,error:Y}),$=Object(z.a)(Object(L.d)({serializableCheck:{ignoredActions:[F.a,F.f,F.b,F.c,F.d,F.e]}})),ee={key:"auth",storage:B.a,whitelist:["token"]},te=Object(L.a)({reducer:{auth:Object(F.g)(ee,Z),phonebook:P},middleware:$,devTools:!1}),re={store:te,persistor:Object(F.h)(te)};l.a.render(Object(p.jsx)(O.a,{children:Object(p.jsx)(b.a.StrictMode,{children:Object(p.jsx)(d.a,{store:re.store,children:Object(p.jsx)(T.a,{persistor:re.persistor,children:Object(p.jsx)(N,{})})})})}),document.getElementById("root"))},24:function(e,t,r){"use strict";var n=r(17),c=r.n(n),o=r(23),a=r(20),u=r.n(a),s=r(4);u.a.defaults.baseURL="https://connections-api.herokuapp.com";var i=function(e){u.a.defaults.headers.common.Authorization="Bearer ".concat(e)},b=function(){u.a.defaults.headers.common.Authorization=""};t.a={register:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(s.a.registerRequest()),t.prev=1,t.next=4,u.a.post("/users/signup",e);case 4:n=t.sent,i(n.data.token),r(s.a.registerSuccess(n.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(s.a.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(s.a.loginRequest()),t.prev=1,t.next=4,u.a.post("/users/login",e);case 4:n=t.sent,i(n.data.token),r(s.a.loginSuccess(n.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(s.a.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(s.a.logoutRequest()),e.prev=1,e.next=4,u.a.post("/users/logout");case 4:b(),t(s.a.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(s.a.logoutError(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t,r){var n,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),o=n.auth.token){e.next=3;break}return e.abrupt("return");case 3:return i(o),t(s.a.getCurrentUserRequest()),e.prev=5,e.next=8,u.a.get("/users/current");case 8:a=e.sent,t(s.a.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(s.a.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,r){return e.apply(this,arguments)}}()}}},4:function(e,t,r){"use strict";var n=r(2),c=Object(n.b)("auth/registerRequest"),o=Object(n.b)("auth/registerSuccess"),a=Object(n.b)("auth/registerError"),u=Object(n.b)("auth/loginRequest"),s=Object(n.b)("auth/loginSuccess"),i=Object(n.b)("auth/loginError"),b=Object(n.b)("auth/logoutRequest"),j=Object(n.b)("auth/logoutSuccess"),l=Object(n.b)("auth/logoutError"),O=Object(n.b)("auth/getCurrentUserRequest"),d=Object(n.b)("auth/getCurrentUserSuccess"),f=Object(n.b)("auth/getCurrentUserError");t.a={registerRequest:c,registerSuccess:o,registerError:a,loginRequest:u,loginSuccess:s,loginError:i,logoutRequest:b,logoutSuccess:j,logoutError:l,getCurrentUserRequest:O,getCurrentUserSuccess:d,getCurrentUserError:f}},74:function(e,t,r){},80:function(e,t,r){}},[[102,1,2]]]);
//# sourceMappingURL=main.58790107.chunk.js.map